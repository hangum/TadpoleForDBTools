<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="com.hangum.tadpole.rdb.core.category.info"
            name="%category.name">
      </category>
      <view
            category="com.hangum.tadpole.rdb.core.category.info"
            class="com.hangum.tadpole.rdb.core.viewers.connections.ManagerViewer"
            icon="resources/icons/database_table.png"
            id="com.hangum.tadpole.rdb.core.view.connection.manager"
            name="%view.name"
            restorable="true">
      </view>
      <view
            category="com.hangum.tadpole.rdb.core.category.info"
            class="com.hangum.tadpole.rdb.core.viewers.object.ExplorerViewer"
            icon="resources/icons/object-explorer.png"
            id="com.hangum.tadpole.rdb.core.view.object.explorer"
            name="%view.name.0"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.hangum.tadpole.rdb.core.editors.intro.IntroEditor"
            default="false"
            icon="resources/icons/information-white.png"
            id="com.hangum.tadpole.rdb.core.editor.intor"
            name="Home">
      </editor>
      <editor
            class="com.hangum.tadpole.rdb.core.editors.main.MainEditor"
            default="false"
            icon="resources/icons/sql-query.png"
            id="com.hangum.tadpole.rdb.core.editor.main"
            name="%editor.name.0">
      </editor>
      <editor
            class="com.hangum.tadpole.rdb.core.editors.table.TableViewerEditPart"
            icon="resources/icons/database_table.png"
            id="com.hangum.tadpole.rdb.core.editors.table.edit"
            name="Table Data Editor">
      </editor>
      <editor
            class="com.hangum.tadpole.mongodb.core.ext.editors.javascript.ServerSideJavaScriptEditor"
            default="false"
            icon="resources/icons/mongodb-add.png"
            id="com.hangum.tadpole.mongodb.core.ext.editor.javascript"
            name="Server Side Java Script">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <viewerContribution
            id="com.hangum.tadpole.rdb.core.viewerContribution.connect.manager"
            targetID="com.hangum.tadpole.rdb.core.view.connection.manager">
            <!--
            <action
               class="com.hangum.tadpole.rdb.core.actions.connections.ConnectDatabase"
               icon="resources/icons/connect.png"
               id="com.hangum.tadpole.rdb.core.action.connect"
               label="Connect Database"
               menubarPath="additions">
         </action>
         -->
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.ConnectionManagerRefreshAction"
               icon="resources/icons/refresh.png"
               id="com.hangum.tadpole.rdb.core.action.refresh"
               label="Refersh"
               menubarPath="additions">
         </action>
      </viewerContribution>
      <objectContribution
            adaptable="false"
            id="com.hangum.tadpole.rdb.core.objectContribution.rdb"
            objectClass="com.hangum.tadpole.dao.system.UserDBDAO">
         <menu
               icon="resources/icons/create-dml.png"
               id="menu.create"
               label="Create DML">
            <groupMarker
                  name="dml">
            </groupMarker>
         </menu>
         <menu
               icon="resources/icons/erd.png"
               id="menu.erd"
               label="ERD">
            <groupMarker
                  name="erd">
            </groupMarker>
         </menu>
          <action
                class="com.hangum.tadpole.rdb.core.actions.connections.CreateTriggerAction"
                enablesFor="1"
                id="com.hangum.tadpole.rdb.core.action.creatTrigger"
                label="Creat Trigger"
                menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.CreateFunctionAction"
               enablesFor="1"
               id="com.hangum.tadpole.rdb.core.action.creatFunction"
               label="Creat Functiontion"
               menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.CreateProcedureAction"
               enablesFor="1"
               id="com.hangum.tadpole.rdb.core.action.creatProcedure"
               label="Creat Procedure"
               menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.CreateIndexAction"
               enablesFor="1"
               id="com.hangum.tadpole.rdb.core.action.createIndex"
               label="Creat Index"
               menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.CreateViewAction"
               enablesFor="1"
               id="com.hangum.tadpole.rdb.core.action.createView"
               label="%action.label"
               menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.CreateTableAction"
               enablesFor="1"
               id="com.hangum.tadpole.rdb.core.action.createTable"
               label="%action.label.0"
               menubarPath="menu.create/dml">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
    
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.QueryEditorAction"
               enablesFor="1"
               icon="resources/icons/sql-query.png"
               id="com.hangum.tadpole.rdb.core.action.query"
               label="Edit SQL"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.erd.rdb.RDBERDViewAction"
               enablesFor="1"
               icon="resources/icons/erd.png"
               id="com.hangum.tadpole.erd.action"
               label="Create ERD Diagram"
               menubarPath="menu.erd/erd">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.erd.rdb.RDBERDAllTableViewAction"
               enablesFor="1"
               icon="resources/icons/erd.png"
               id="com.hangum.tadpole.erd.action.all"
               label="All Table ERD"
               menubarPath="menu.erd/erd">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
            <!--
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.DisconnectDBAction"
               enablesFor="1"
               icon="resources/icons/disconnect.png"
               id="com.hangum.tadpole.rdb.core.action.connection.disconnectdb"
               label="Disconnnect Database"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         -->
         <visibility>
            <objectState
                  name="db_type"
                  value="cubrid,mysql,mssql,oracle,db2,postgre,sqlite">
            </objectState>
         </visibility>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="com.hangum.tadpole.rdb.core.objectContribution.nosql"
            objectClass="com.hangum.tadpole.dao.system.UserDBDAO">
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongoDBImportAction"
               icon="resources/icons/db_import.png"
               id="com.hangum.tadpole.rdb.core.action.import"
               label="Import"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbProfillingAction"
               icon="resources/icons/profile.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.mongodb.profilling"
               label="Profiling"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbCurrentOpAction"
               icon="resources/icons/current-operation.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.mongodb.currentop"
               label="Current Operation"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbWebConsoleAction"
               icon="resources/icons/web-management.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.monogodb.top"
               label="Web Console"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbTopAction"
               icon="resources/icons/go-top.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.monogodb.top"
               label="Top"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbDBStatusAction"
               icon="resources/icons/db_status.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.monogodb.serverstatus"
               label="Server Status"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbGridFSAction"
               icon="resources/icons/GridFS.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.mongodb.gridfs"
               label="GridFS"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.nosql.mongodb.MongodbUserManagerAction"
               icon="resources/icons/add_user.png"
               id="com.hangum.tadpole.rdb.core.action.nosql.mongodb.adduser"
               label="User Manager"
               menubarPath="additions">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>         
         <menu
               icon="resources/icons/erd.png"
               id="menu.nosql.erd"
               label="ERD">
            <groupMarker
                  name="erd">
            </groupMarker>
         </menu>
		<action
        class="com.hangum.tadpole.rdb.core.actions.erd.mongodb.MongoDBERDDeleteAction"
        enablesFor="1"
        icon="resources/icons/delete-relation.png"
        id="com.hangum.tadpole.erd.delete.action"
        label="Delete Resource"
        menubarPath="menu.nosql.erd/erd">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBResourceDAO">
               </objectClass>
            </enablement>
         </action>
    
         <action
               class="com.hangum.tadpole.rdb.core.actions.erd.mongodb.MongoDBERDViewAction"
               enablesFor="1"
               icon="resources/icons/erd.png"
               id="com.hangum.tadpole.erd.action"
               label="Create ERD Diagram"
               menubarPath="menu.nosql.erd/erd">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <action
               class="com.hangum.tadpole.rdb.core.actions.erd.mongodb.MongoDBERDAllTableViewAction"
               enablesFor="1"
               icon="resources/icons/erd.png"
               id="com.hangum.tadpole.erd.action.all"
               label="All Table ERD"
               menubarPath="menu.nosql.erd/erd">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         <!--
         <action
               class="com.hangum.tadpole.rdb.core.actions.connections.DisconnectDBAction"
               enablesFor="1"
               icon="resources/icons/disconnect.png"
               id="com.hangum.tadpole.rdb.core.action.connection.disconnectdb"
               label="Disconnnect Database">
            <enablement>
               <objectClass
                     name="com.hangum.tadpole.dao.system.UserDBDAO">
               </objectClass>
            </enablement>
         </action>
         -->
         <visibility>
            <objectState
                  name="db_type"
                  value="mongodb">
            </objectState>
         </visibility>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="com.hangum.tadpole.rdb.core.objectContribution.resource"
            objectClass="com.hangum.tadpole.dao.system.UserDBResourceDAO">
         <action
               class="com.hangum.tadpole.rdb.core.actions.erd.rdb.RDBERDDeleteAction"
               enablesFor="1"
               icon="resources/icons/delete-relation.png"
               id="com.hangum.tadpole.rdb.core.action.deleteResource"
               label="Delete Resource"
               menubarPath="additions">
         </action>
         <visibility>
            <objectState
                  name="type"
                  value="resource">
            </objectState>
         </visibility>
      </objectContribution>     
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="com.hangum.tadpole.dao.system.UserDBDAO"
            class="com.hangum.tadpole.rdb.core.actions.adapter.rdb.DBTypeActionFilterAdapterFactory">
         <adapter
               type="org.eclipse.ui.IActionFilter">
         </adapter>
      </factory>
      <factory
            adaptableType="com.hangum.tadpole.dao.system.UserDBResourceDAO"
            class="com.hangum.tadpole.rdb.core.actions.adapter.resource.ResourceTypeAdapterFactory">
         <adapter
               type="org.eclipse.ui.IActionFilter">
         </adapter>
      </factory>
   </extension>

</plugin>
